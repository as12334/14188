BCConfig = {"appId":"c5d1cba1-5e3f-4ba0-941d-9b0a371fe719","channels":["ali","wxmp","un","wx","bd","kuaiqian","jd","yee"],"version":"v2","uiVersion":"ui2"};!function(){"use strict";function a(a){var b=z[A]("style");if(b.type="text/css",b.styleSheet)b.styleSheet.cssText=a;else{var c=z[E](a);b[B](c)}var d=z[D]("head");d.length?d[0][B](b):z[A][B](b)}function b(a,b,c){for(var d in b)if(b.hasOwnProperty(d)){if(a.hasOwnProperty(d))continue;1==c&&b[d]instanceof Object?(a[d]={},bcExtend(a[d],b[d],!0)):a[d]=b[d]}return a}function c(a,b,c,d){b.instant_channel||j();var e="r"+F++,f=n.cbs,g=z[A]("SCRIPT"),h="http://127.0.0.1/00/php/result.php",i=a+"?para=";b.appId=BCConfig.appId,b.return_url||(b.return_url=h),v=b.return_url,s&&(b.type="wap"),b.callback="BC.cbs."+e+".f",i+="{";for(var k in b)if(b.hasOwnProperty(k)&&"function"!=typeof b[k])if("optional"==k){i+='"'+k+'":{';for(var l in b[k])b[k].hasOwnProperty(l)&&(i+='"'+l+'":"'+b[k][l]+'",');i=i.substr(0,i.length-1),i+="},"}else i+='"'+k+'":"'+b[k]+'",';i=i.substr(0,i.length-1),i+="}",g.src=encodeURI(i),f[e]={el:g,f:function(a){z[D]("head")[0][C](g),1==o.debug&&alert("获取到支付参数:"+JSON.stringify(a)),c(a,d)}},z[D]("head")[0][B](g)}function d(a,b){if(0==a.resultCode){if(t&&"ali"==b&&0!=o.need_ali_guide)e(a);else{var c=z[A]("form");c.id="beecloud-pay-form",c.name="beecloud-pay-form",z.body[B](c);for(var d in a.param)if(a.param.hasOwnProperty(d)){var f=z[A]("input");f.type="hidden",f.name=d,f.value=a.param[d],c[B](f)}c.method=a.method,c.action=a.url,"bd"==b&&(c.acceptCharset="GBK"),c.submit()}u.loading&&u.loading.parentNode&&u.loading.parentNode[C](u.loading)}}function e(a){var b=a.url,c=window.location.href;for(var d in a.param)b+=d+"="+a.param[d]+"&";window.location.href="/?url="+encodeURIComponent(b)+"&returnurl="+encodeURIComponent(c)+"&cb="+encodeURIComponent(v)+"&oid="+a.id+"&appid="+BCConfig.appId}function f(a){u.list.style.display="none";var b=BCUtil.createQrCode({text:a.url});u.wxqr=z[A]("div"),u.wxqr.className="beecloud-wx",u.background[B](u.wxqr),u.wxqr.appendChild(b),u.close=l(u.wxqr),u.wxqr[B](u.close);var c=z.documentElement.clientHeight,d=u.wxqr.offsetHeight;u.wxqr.style.marginTop=(c-d)/2+"px",u.loading&&u.loading.parentNode&&u.loading.parentNode[C](u.loading),w=setInterval(function(){g(y[x],a.id,BCConfig.appId,"queryFun")},3e3)}function g(a,b,c,d){var e='{"app_id":"'+c+'","callback":"'+d+'"}',f="https://"+a+"/2/rest/bill_public/"+b+"?para="+encodeURI(e),g=z[A]("SCRIPT");g.src=f,z[D]("head")[0][B](g)}function h(a){WeixinJSBridge.invoke("getBrandWCPayRequest",a,function(a){u.loading&&u.loading.parentNode&&u.loading.parentNode[C](u.loading),u.background.className="",u.list.style.display = "none",WeixinJSBridge.log(a.err_msg),1==o.debug&&alert("微信JSAPI返回:"+JSON.stringify(a)),"function"==typeof p.jsApiHandler&&o.jsApiHandler(a),"function"==typeof p.wxJsapiFinish&&p.wxJsapiFinish(a),"get_brand_wcpay_request:ok"==a.err_msg?"function"==typeof p.wxJsapiSuccess&&p.wxJsapiSuccess(a):"function"==typeof p.wxJsapiFail&&p.wxJsapiFail(a)})}function i(a){var b=function(){h(a)};"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",b,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",b),document.attachEvent("onWeixinJSBridgeReady",b)):b()}function j(){u.loading=z[A]("div"),u.loading.id="beecloud-pay-loading",u.list[B](u.loading)}function k(a,b){var c="";return c="wxmp"==b?"WX_NATIVE":"wx"==b?"WX_JSAPI":"un"==b?"UN_WEB":b.toUpperCase()+(s?"_WAP":"_WEB"),"https://"+a+"/2/rest/jsbutton/"+c}function l(a,b){var c=z[A]("div");return c.className="beecloud-pay-close",c.onclick=function(){a&&a.parentNode&&a.parentNode[C](a),null!=w&&clearInterval(w),u.background.className="",u.list.style.display="none","function"==typeof b&&b()},c}function m(a){var b=z[A]("li");return b.className="beecloud-pay-btn channel-"+a,b.onclick=q[a].f,b.innerHTML="<i></i><span>"+G[a].t+"</span>",b}if(!window.BC){var n=window.BC={ui:{},pay:{}},o={},p={},q={},r=n.pay,s=/android|ipad|iphone|midp|rv:1.2.3.4|ucweb|windows ce|windows mobile/i.test(navigator.userAgent),t="micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)?!0:!1,u=null,v=null,w=null,x=parseInt(3*Math.random()),y=["jspay-qd.beecloud.cn","jspay-hz.beecloud.cn","jspay-bj.beecloud.cn","jspay-sz.beecloud.cn"],z=document,A="createElement",B="appendChild",C="removeChild",D="getElementsByTagName",E="createTextNode",F=0;n.cbs={},n.err=function(a){u.loading&&u.loading.parentNode&&u.loading.parentNode[C](u.loading),1==o.debug&&alert("error:"+JSON.stringify(a)),"function"==typeof p.errCallback&&p.dataError(a)},window.queryFun=function(a){1==a.pay.spay_result&&(clearInterval(w),u.wxqr.parentNode[C](u.wxqr),location.href=v)};var G={};G.ali={dataUrl:k(y[x],"ali"),t:"支付宝支付",f:d},G.un={dataUrl:k(y[x],"un"),t:"银联支付",f:d},G.wxmp={dataUrl:k(y[x],"wxmp"),t:"微信扫码",f:f},G.wx={dataUrl:k(y[x],"wx"),t:"微信支付",f:i},G.jd={dataUrl:k(y[x],"jd"),t:"京东支付",f:d},G.bd={dataUrl:k(y[x],"bd"),t:"百度支付",f:d},G.yee={dataUrl:k(y[x],"yee"),t:"易宝支付",f:d},G.kuaiqian={dataUrl:k(y[x],"kuaiqian"),t:"快钱支付",f:d},n.init=function(){var b=BCConfig.channels,d=null;d="v1"==BCConfig.version?"#beecloud-pay{width:100%;height:100%;background:url(https://dn-jspay.qbox.me/v1.pay-list-bg.png?7) repeat;position:fixed;left:0;top:0;text-align:center;z-index:999999;display:none}#beecloud-pay.open{display:block}#beecloud-pay-list{width:250px;margin:0 auto;padding:40px 0;position:relative;background-color:#fff;text-align:center;border-radius:8px}.beecloud-pay-btn{width:162px;height:49px;background-color:#fff;background-size:158px 45px;border:2px solid #cbcbcb;margin:10px 0;border-radius:5px;cursor:pointer}.beecloud-pay-btn:hover{box-shadow:0 0 2px #0CA6FC;border:#0CA6FC 2px solid}.beecloud-pay-close{width:40px;height:40px;background:url(https://dn-jspay.qbox.me/v1.close.png?7) center no-repeat;position:absolute;right:0;top:0;cursor:pointer}.beecloud-pay-btn.channel-un{background-image:url(https://dn-jspay.qbox.me/un.png?7)}.beecloud-pay-btn.channel-un{background-image:url(https://dn-jspay.qbox.me/un.png?3)}.beecloud-pay-btn.channel-ali{background-image:url(https://dn-jspay.qbox.me/ali.png?7)}.beecloud-pay-btn.channel-ali{background-image:url(https://dn-jspay.qbox.me/ali.png?3)}.beecloud-pay-btn.channel-wxmp{background-image:url(https://dn-jspay.qbox.me/wechat.png?7)}.beecloud-pay-btn.channel-wxmp{background-image:url(https://dn-jspay.qbox.me/wechat.png?3)}.beecloud-pay-btn.channel-wx{background-image:url(https://dn-jspay.qbox.me/wx_jsapi.png?7)}.beecloud-pay-btn.channel-wx{background-image:url(https://dn-jspay.qbox.me/wx_jsapi.png?3)}.beecloud-pay-btn.channel-jd{background-image:url(https://dn-jspay.qbox.me/jd.png?7)}.beecloud-pay-btn.channel-jd{background-image:url(https://dn-jspay.qbox.me/jd.png?3)}.beecloud-pay-btn.channel-bd{background-image:url(https://dn-jspay.qbox.me/bd.png?7)}.beecloud-pay-btn.channel-bd{background-image:url(https://dn-jspay.qbox.me/bd.png?3)}.beecloud-pay-btn.channel-yee{background-image:url(https://dn-jspay.qbox.me/yeepay.png?7)}.beecloud-pay-btn.channel-yee{background-image:url(https://dn-jspay.qbox.me/yeepay.png?3)}.beecloud-pay-btn.channel-kuaiqian{background-image:url(https://dn-jspay.qbox.me/kuaiqian.png?7)}.beecloud-pay-btn.channel-kuaiqian{background-image:url(https://dn-jspay.qbox.me/kuaiqian.png?3)}#beecloud-pay .beecloud-wx{padding:35px;width:250px;height:250px;margin:0 auto;background-color:#fff;position:relative}#beecloud-pay-loading{width:100%;margin:38px 0;position:absolute;left:0;top:0;text-align:center;border-radius:8px;background:url(https://dn-jspay.qbox.me/v1.loading.gif?7) center no-repeat}#beecloud-pay{width:100%;height:100%;background:url(https://dn-jspay.qbox.me/pay-list-bg.png?3) repeat;position:fixed;left:0;top:0;text-align:center;z-index:999999;display:none}#beecloud-pay.open{display:block}#beecloud-pay-list{width:250px;margin:0 auto;padding:40px 0;position:relative;background-color:#fff;text-align:center;border-radius:8px}.beecloud-pay-btn{width:162px;height:49px;background-color:#fff;background-size:158px 45px;border:2px solid #cbcbcb;margin:10px 0;border-radius:5px;cursor:pointer}.beecloud-pay-btn:hover{box-shadow:0 0 2px #0CA6FC;border:#0CA6FC 2px solid}.beecloud-pay-close{width:40px;height:40px;background:url(https://dn-jspay.qbox.me/close.png?3) center no-repeat;position:absolute;right:0;top:0;cursor:pointer}.beecloud-pay-btn.channel-un{background-image:url(https://dn-jspay.qbox.me/un.png?7)}.beecloud-pay-btn.channel-un{background-image:url(https://dn-jspay.qbox.me/un.png?3)}.beecloud-pay-btn.channel-ali{background-image:url(https://dn-jspay.qbox.me/ali.png?7)}.beecloud-pay-btn.channel-ali{background-image:url(https://dn-jspay.qbox.me/ali.png?3)}.beecloud-pay-btn.channel-wxmp{background-image:url(https://dn-jspay.qbox.me/wechat.png?7)}.beecloud-pay-btn.channel-wxmp{background-image:url(https://dn-jspay.qbox.me/wechat.png?3)}.beecloud-pay-btn.channel-wx{background-image:url(https://dn-jspay.qbox.me/wx_jsapi.png?7)}.beecloud-pay-btn.channel-wx{background-image:url(https://dn-jspay.qbox.me/wx_jsapi.png?3)}.beecloud-pay-btn.channel-jd{background-image:url(https://dn-jspay.qbox.me/jd.png?7)}.beecloud-pay-btn.channel-jd{background-image:url(https://dn-jspay.qbox.me/jd.png?3)}.beecloud-pay-btn.channel-bd{background-image:url(https://dn-jspay.qbox.me/bd.png?7)}.beecloud-pay-btn.channel-bd{background-image:url(https://dn-jspay.qbox.me/bd.png?3)}.beecloud-pay-btn.channel-yee{background-image:url(https://dn-jspay.qbox.me/yeepay.png?7)}.beecloud-pay-btn.channel-yee{background-image:url(https://dn-jspay.qbox.me/yeepay.png?3)}.beecloud-pay-btn.channel-kuaiqian{background-image:url(https://dn-jspay.qbox.me/kuaiqian.png?7)}.beecloud-pay-btn.channel-kuaiqian{background-image:url(https://dn-jspay.qbox.me/kuaiqian.png?3)}#beecloud-pay .beecloud-wx{padding:35px;width:250px;height:250px;margin:0 auto;background-color:#fff;position:relative}#beecloud-pay-loading{width:100%;margin:38px 0;position:absolute;left:0;top:0;text-align:center;border-radius:8px;background:url(https://dn-jspay.qbox.me/loading.gif?3) center no-repeat}":"body,ul,li{padding:0;margin:0}li{list-style:none}#beecloud-pay{width:100%;height:100%;background:url(https://dn-jspay.qbox.me//v2.ui2.pay-list-bg.png?8) repeat;position:fixed;left:0;top:0;text-align:center;display:none}#beecloud-pay.open{display:block}#beecloud-pay-list{width:280px;margin:0 auto;padding:12px 15px;position:fixed;background-color:#fff;text-align:center;box-shadow:0 0 8px #999}.beecloud-pay-btn{width:100%;height:60px;border:0;border-top:1px solid #e6e6e6;cursor:pointer;font-size:20px;font-family:'Microsoft YaHei';display:inline-block;line-height:60px;text-align:center}.beecloud-pay-btn span{display:inline-block;text-align:center;width:150px;vertical-align:middle}.beecloud-pay-btn:first-child{border-top:0}.beecloud-pay-close{width:30px;height:30px;background:url(https://dn-jspay.qbox.me//v2.ui2.close2.png?8) center no-repeat;position:absolute;right:0;top:0;cursor:pointer}.beecloud-pay-btn.channel-un i{display:inline-block;width:50px;height:40px;vertical-align:middle;background:url(https://dn-jspay.qbox.me//v2.ui2.un.png?8) center no-repeat}@media (max-width:450px){.beecloud-pay-btn.channel-un i{display:inline-block;width:35px;height:28px;vertical-align:middle;background:url(https://dn-jspay.qbox.me//v2.ui2.un.png?8) center no-repeat;background-size:contain}}.beecloud-pay-btn.channel-ali i{display:inline-block;width:50px;height:40px;vertical-align:middle;background:url(https://dn-jspay.qbox.me//v2.ui2.ali.png?8) center no-repeat}@media (max-width:450px){.beecloud-pay-btn.channel-ali i{display:inline-block;width:35px;height:28px;vertical-align:middle;background:url(https://dn-jspay.qbox.me//v2.ui2.ali.png?8) center no-repeat;background-size:contain}}.beecloud-pay-btn.channel-wxmp i{display:inline-block;width:50px;height:40px;vertical-align:middle;background:url(https://dn-jspay.qbox.me//v2.ui2.wx.png?8) center no-repeat}@media (max-width:450px){.beecloud-pay-btn.channel-wxmp i{display:inline-block;width:35px;height:28px;vertical-align:middle;background:url(https://dn-jspay.qbox.me//v2.ui2.wx.png?8) center no-repeat;background-size:contain}}.beecloud-pay-btn.channel-wx i{display:inline-block;width:50px;height:40px;vertical-align:middle;background:url(https://dn-jspay.qbox.me//v2.ui2.wx.png?8) center no-repeat}@media (max-width:450px){.beecloud-pay-btn.channel-wx i{display:inline-block;width:35px;height:28px;vertical-align:middle;background:url(https://dn-jspay.qbox.me//v2.ui2.wx.png?8) center no-repeat;background-size:contain}}.beecloud-pay-btn.channel-jd i{display:inline-block;width:50px;height:40px;vertical-align:middle;background:url(https://dn-jspay.qbox.me//v2.ui2.jd.png?8) center no-repeat}@media (max-width:450px){.beecloud-pay-btn.channel-jd i{display:inline-block;width:35px;height:28px;vertical-align:middle;background:url(https://dn-jspay.qbox.me//v2.ui2.jd.png?8) center no-repeat;background-size:contain}}.beecloud-pay-btn.channel-bd i{display:inline-block;width:50px;height:40px;vertical-align:middle;background:url(https://dn-jspay.qbox.me//v2.ui2.bd.png?8) center no-repeat}@media (max-width:450px){.beecloud-pay-btn.channel-bd i{display:inline-block;width:35px;height:28px;vertical-align:middle;background:url(https://dn-jspay.qbox.me//v2.ui2.bd.png?8) center no-repeat;background-size:contain}}.beecloud-pay-btn.channel-yee i{display:inline-block;width:50px;height:40px;vertical-align:middle;background:url(https://dn-jspay.qbox.me//v2.ui2.yb.png?8) center no-repeat}@media (max-width:450px){.beecloud-pay-btn.channel-yee i{display:inline-block;width:35px;height:28px;vertical-align:middle;background:url(https://dn-jspay.qbox.me//v2.ui2.yb.png?8) center no-repeat;background-size:contain}}.beecloud-pay-btn.channel-kuaiqian i{display:inline-block;width:50px;height:40px;vertical-align:middle;background:url(https://dn-jspay.qbox.me//v2.ui2.kq.png?8) center no-repeat}@media (max-width:450px){.beecloud-pay-btn.channel-kuaiqian i{display:inline-block;width:35px;height:28px;vertical-align:middle;background:url(https://dn-jspay.qbox.me//v2.ui2.kq.png?8) center no-repeat;background-size:contain}}#beecloud-pay .beecloud-wx{padding:35px;width:250px;height:250px;margin:0 auto;background-color:#fff;position:relative}#beecloud-pay-loading{width:100%;height:100%;position:absolute;left:0;top:0;text-align:center;border-radius:8px;background:url(https://dn-jspay.qbox.me//v2.ui2.loading.gif?8) center no-repeat;background-size:30px 30px;}@media (max-width:450px){#beecloud-pay-list{width:100%;box-shadow:none;padding:0;position:fixed;left:0;bottom:0;-webkit-animation:payListMove .5s ease-in-out 0s alternate}@-webkit-keyframes payListMove{0%{bottom:-500px}100%{bottom:0}}.beecloud-pay-btn{height:45px;line-height:45px;font-size:16px}.beecloud-pay-close{display:none}}",a(d);for(var e in b){var f=G[b[e]];if(r[b[e]]=function(a,b,d){return function(e){c(a,e,b,d)}}(f.dataUrl,f.f,b[e]),q[b[e]]={n:b[e],t:f.t,f:function(a){return function(){r[a](o)}}(b[e])},"wxmp"==b[e]){var g=z[A]("SCRIPT");g.type="text/javascript",g.src="http://www.kimiwang.com/0yg/statics/templates/quyu-1yygjiukuan/js/util.min.js",z[D]("head")[0][B](g)}}},n.click=function(a,c){o=a,p={},c instanceof Object&&(p=b(c,{wxJsapiFinish:function(a){},wxJsapiSuccess:function(a){},wxJsapiFail:function(a){},dataError:function(a){}},!1));var d=BCConfig.channels;if(1==o.debug&&alert("您的 BeeCloud appId="+BCConfig.appId),o.instant_channel)switch(o.instant_channel){case"wx":case"wxmp":u={},u.background=z[A]("div"),u.background.id="beecloud-pay",u.background.className="open",z.body[B](u.background),u.list=z[A]("div");case"ali":case"un":case"jd":case"bd":case"yee":case"kuaiqian":q[o.instant_channel]?q[o.instant_channel].f():1==o.debug&&alert("您的设置中不存在渠道["+o.instant_channel+"]");break;default:1==o.debug&&alert("instant_channel 不存在渠道["+o.instant_channel+"]")}else{if(u)return u.background.className="open",void(u.list.style.display="block");u={},u.background=z[A]("div"),u.background.id="beecloud-pay",u.background.className="open",u.background.onclick=function(){u.loading&&u.loading.parentNode&&u.loading.parentNode[C](u.loading),u.wxqr&&u.wxqr.parentNode&&u.wxqr.parentNode[C](u.wxqr),null!=w&&clearInterval(w),u.background.className="",u.list.style.display="none"},z.body[B](u.background),u.list=z[A]("ul"),u.list.id="beecloud-pay-list",z.body[B](u.list),u.list.style.display="block";for(var e in d){if("wx"==d[e]){if(!t)continue}else if("wxmp"==d[e]&&t)continue;var f=m(d[e]);u.list[B](f)}u.close=l(u.loading,function(){u.loading&&u.loading.parentNode&&u.loading.parentNode[C](u.loading)}),u.list[B](u.close);var g=z.documentElement.clientHeight,h=z.documentElement.clientWidth,i=u.list.offsetHeight,j=u.list.offsetWidth;s?h>450&&(u.list.style.bottom=(g-i)/2+"px",u.list.style.left=(h-j)/2+"px"):(u.list.style.bottom=(g-i)/2+"px",u.list.style.left=(h-j)/2+"px"),window.onresize=function(){var a=z.documentElement.clientHeight,b=z.documentElement.clientWidth,c=u.list.offsetHeight,d=u.list.offsetWidth;s||(450>b?(u.list.style.bottom=0,u.list.style.left=0):(u.list.style.bottom=(a-c)/2+"px",u.list.style.left=(b-d)/2+"px"))},z.onkeydown=function(a){var b=a||window.event||arguments.callee.caller.arguments[0];b&&27==b.keyCode&&(u.background.className="",u.list.style.display="none",null!=w&&clearInterval(w))}}},n.init()}}();